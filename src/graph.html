<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Fibonacci Race</title>
  <script src="js/jquery-2.1.1.min.js"></script>
<script src="js/Chart.min.js"></script>
<script>
  $(function() {
  var getData =function() {
    var data = [];
    var tr = $("#tbl tr");
    for( var i=1,l=tr.length;i<l;i++ ){
      var cells = tr.eq(i).children();
      for( var j=0,m=cells.length;j<m;j++ ){
        if( typeof data[i-1] == "undefined" ){
          data[i-1] = [];
        }
        data[i-1][j] = cells.eq(j).text();
      }
    }
    return data;
  //  console.log(data);
  };

  var func = function(event) {
    var d = getData();
    var langs = $.map(d,function(a){return a[0];});
    var times = event.data.flag ? $.map(d,function(a){return a[1];}) : $.map(d,function(a){return a[2];});
  //  console.log(langs);
  //  console.log(times);
    var data = {
      labels: langs,
      datasets: [
          {
              label: "My First dataset",
              fillColor: "rgba(220,220,220,0.5)",
              strokeColor: "rgba(220,220,220,0.8)",
              highlightFill: "rgba(220,220,220,0.75)",
              highlightStroke: "rgba(220,220,220,1)",
              data: times
          }]
    };
    myBarChart = new Chart(
      document.getElementById(event.data.id).getContext("2d")).Bar(data,{
        //scaleOverride : true,
        //scaleSteps : 15,
        //scaleStepWidth : 100,
    });
  };

  $("#btn3").on("click", {flag :true,id:"graph1"},  func);
  $("#btn4").on("click", {flag :false,id:"graph2"},  func);
});
</script>
  <style>
table, td, th {
border: 1px #000000 solid;
}
  </style>
  </head>
<body>
  <input type="button" value="TIME" id="btn3"/>
  <input type="button" value="MEMORY" id="btn4"/>

  <canvas id="graph1" height="500" width="500"></canvas>
  <canvas id="graph2" height="500" width="500"></canvas>
  <table id="tbl">
    <thead>
      <tr>
        <th align="center">Language</th>
        <th align="right">TIME, MS</th>
        <th align="right">MEMORY, BYTES</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td align="center">Ruby</td>
        <td align="right">106</td>
        <td align="right">2510848</td>
      </tr>
      <tr>
        <td align="center">Scala</td>
        <td align="right">1222</td>
        <td align="right">1679360</td>
      </tr>
      <tr>
        <td align="center">C#</td>
        <td align="right">158</td>
        <td align="right">4853760</td>
      </tr>
      <tr>
        <td align="center">Java</td>
        <td align="right">390</td>
        <td align="right">3616768</td>
      </tr>
      <tr>
        <td align="center">JavaScript</td>
        <td align="right">159</td>
        <td align="right">5439488</td>
      </tr>
      <tr>
        <td align="center">Lua</td>
        <td align="right">33</td>
        <td align="right">4096</td>
      </tr>
      <tr>
        <td align="center">Python 2</td>
        <td align="right">149</td>
        <td align="right">3481600</td>
      </tr>
      <tr>
        <td align="center">Python 3</td>
        <td align="right">259</td>
        <td align="right">3866624</td>
      </tr>
      <tr>
        <td align="center">Perl</td>
        <td align="right">68</td>
        <td align="right">1789952</td>
      </tr>
      <tr>
        <td align="center">C</td>
        <td align="right">30</td>
        <td align="right">4096</td>
      </tr>
      <tr>
        <td align="center">Bash</td>
        <td align="right">63</td>
        <td align="right">4096</td>
      </tr>
      <tr>
        <td align="center">PHP</td>
        <td align="right">86</td>
        <td align="right">7004160</td>
      </tr>
  <!--
      <tr>
        <td align="center">Clojure</td>
        <td align="right">5815</td>
        <td align="right">66879488</td>
      </tr>
  -->
      <tr>
        <td align="center">Go</td>
        <td align="right">29</td>
        <td align="right">4096</td>
      </tr>
    </tbody>
  </table>
  </body>
</html>